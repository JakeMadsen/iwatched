<%
  const t = (data||{});
  const mode = (config && config.mode==='show') ? 'show' : 'movie';
  const label = (mode==='show') ? 'Show' : 'Movie';
  const poster = t && t.poster ? ('https://image.tmdb.org/t/p/w185'+t.poster) : '/static/style/img/standard/standard_banner.png';
  const note = (config && config.note) ? String(config.note) : '';
  const href = (mode==='movie') ? ('/movies/'+(t && t.id)) : ('/shows/'+(t && t.id));
%>
<div class="profile-showcase profile-showcase--fav" data-slug="favorite_title" style="margin-top:24px;">
  <h3 style="display:flex; align-items:center; justify-content:space-between;">
    <span>Favorite <%= label %></span>
    <% if (typeof instanceId !== 'undefined' && Number(instanceId) === 0 && user && page_data && page_data.user && String(user._id) === String(page_data.user._id)) { %>
      <% var __bp = (page_data.user.profile && page_data.user.profile.custom_url) ? ('/' + page_data.user.profile.custom_url) : ('/' + page_data.user._id); %>
      <span class="profile-editWrapper" style="margin-left:12px; display:inline-flex; align-items:center; position:relative;">
        <span class="profile-editHint">Personalize your page!</span>
        <a href="<%= __bp %>/personalize" class="btn btn-sm btn-outline-secondary profile-editBtn" title="Edit profile layout" aria-label="Edit profile layout"><i class="fas fa-edit"></i></a>
      </span>
    <% } %>
  </h3>
  <div class="favcard" style="display:flex; gap:14px; background:#141414; border:1px solid #262626; border-radius:10px; padding:10px;">
    <div style="flex:0 0 100px;">
      <a href="<%= href %>">
        <img src="<%= poster %>" alt="" style="width:100px;height:150px;object-fit:cover;border-radius:6px;">
      </a>
    </div>
    <div style="flex:1 1 auto; color:#e6e6e6;">
      <div style="font-weight:800; font-size:18px;"> <%= (t && t.title) || 'Pick a '+label.toLowerCase() %> </div>
      <% if (t && t.description) { %>
        <p style="margin-top:8px; max-width: 920px; opacity:.9;"><%= t.description.substring(0,240) %><% if (t.description.length>240){ %>...<% } %></p>
      <% } %>
      <% if (note) { %>
        <div style="margin-top:8px; font-style:italic; color:#d0d0d0;">"<%= note %>"</div>
      <% } %>
    </div>
  </div>
</div>

<%
  const p = (data||{});
  const label = (config && config.mode==='director') ? 'Director' : 'Actor';
  const img = p && p.profile ? ('https://image.tmdb.org/t/p/w185'+p.profile) : '/static/style/img/standard/standard_avatar.png';
  const note = (config && config.note) ? String(config.note) : '';
%>
<div class="profile-showcase profile-showcase--fav" data-slug="favorite_person" style="margin-top:24px;">
  <h3 style="display:flex; align-items:center; justify-content:space-between;">
    <span>Favorite Person</span>
    <% if (typeof instanceId !== 'undefined' && Number(instanceId) === 0 && user && page_data && page_data.user && String(user._id) === String(page_data.user._id)) { %>
      <% var __bp = (page_data.user.profile && page_data.user.profile.custom_url) ? ('/' + page_data.user.profile.custom_url) : ('/' + page_data.user._id); %>
      <a href="<%= __bp %>/personalize" class="btn btn-sm btn-outline-secondary" title="Edit profile layout" aria-label="Edit profile layout"><i class="fas fa-edit"></i></a>
    <% } %>
  </h3>
  <div class="favcard" style="display:flex; gap:14px; background:#141414; border:1px solid #262626; border-radius:10px; padding:10px;">
    <div style="flex:0 0 100px;">
      <img src="<%= img %>" alt="" style="width:100px;height:150px;object-fit:cover;border-radius:6px;">
    </div>
    <div style="flex:1 1 auto; color:#e6e6e6;">
      <div style="font-weight:800; font-size:18px;"> <%= (p && p.name) || 'Pick a person' %> </div>
      <div style="opacity:.7; font-size:12px; margin-top:2px;">Mode: <%= label %></div>
      <% if (p && p.description) { %>
        <p style="margin-top:8px; max-width: 920px; opacity:.9;"><%= p.description.substring(0,240) %><% if (p.description.length>240){ %>...<% } %></p>
      <% } %>
      <% if (note) { %>
        <div style="margin-top:8px; font-style:italic; color:#d0d0d0;">"<%= note %>"</div>
      <% } %>
    </div>
  </div>
</div>

